{% extends "layout.html" %}

{% block content %}
<style type="text/css">
    .btn-default{
        text-shadow: none;
    }
    .error{
        color: red;
        white-space: pre;
    }
    .list-group-item{
        border: 1px solid #ebebeb;
        background-color: gray;
        color: white !important;
    }
    .nav-pills li{
        background-color:gray;
    }
    .right-border{
        border-right: 3px solid white;
    }
    
    .popover-content{
        height: 200px;
        overflow-y: scroll;
    }
    .popover-heading{
        font-size: 1.25em;
    }
    .well{
        background-color: gray;
    }
    .panel-heading{
        color: black !important;
    }
    
    body{
        color: white;
    }
    
    hr{
        border-top: 1px solid white;
    }
    
    .form-control{
        color:black;
    }
</style>
<script type="text/javascript" src="static/js/assignPracticumController.js"></script>

<script type="text/ng-template" id="popover.student.tpl.html">
    <div class="popover" tabindex="-1">
        <div class="arrow"></div>
            <h3 class="popover-title text-center" ng-bind="student.firstName + '  ' + student.lastName" ></h3>
        <div class="popover-content">
            <div class="">
                <table class="table table-responsive text-center">
                    <tbody>
                      <tr>
                        <td ng-bind="student.email"></td>
                      </tr>
                      <tr>
                        <td ng-bind="getTransportationString(student)"></td>
                      </tr>
                      <tr>
                        <td><span class="popover-heading">Enrolled In:</span></td>
                      </tr>
                      <tr class="well" ng-repeat="en in student.enrolledClasses">
                        <td ng-bind="en"></td>
                      </tr>
                      <tr>
                        <td><span class="popover-heading">Endorsements:</span></td>
                      </tr>
                      <tr class="well" ng-repeat="en in student.endorsements">
                        <td ng-bind="en"></td>
                      </tr>
                      <tr>
                        <td><span class="popover-heading">Availability:</span></td>
                      </tr>
                      <tr class="well" ng-repeat="av in student.availability">
                        <td ng-bind="getAvailabilityString(av)"></td>
                      </tr>
                      <tr>
                        <td><span class="popover-heading">Previous Practica:</span></td>
                      </tr>
                      <tr class="well" ng-repeat="prac in student.previousPractica">
                        <td ng-bind="prac.school + ' - ' + prac.grade + prac.course"></td>
                      </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</script>


<div class="container" ng-controller="AssignPracticumController">
    <br /> 
    <div class="row">
        <div class="col-md-6 col-md-offset-4">
            <!--<h3>Practicum Assignment</h3>-->
        </div>
        <br /><br /><br />
    </div>
    
    <div class="row">
        <div class="col-md-6 right-border">
            <h4 class="text-center">Students</h4>
            <br/>
            <div class="row">
                <div class="col-md-6">
                    <span>Filter By</span><br/><br/>
                    <div class="form-group">
                        <span>Practicum-Bearing Class:
                        <select class="form-control" id="practicumBearing" name="practicumBearing" ng-model="$parent.enrolledClasses">
                            <option>N/A</option>
                            <option ng-repeat="item in practicumBearingClasses | orderBy: item">{{ '{{item}}' }}</option>
                        </select></span>
                    </div><br />
                    <div class="form-group">
                        <span>Endorsement:
                        <select class="form-control" id="endorsement" name="endorsement" ng-model="$parent.endorsementSought">
                            <option>N/A</option>
                            <option ng-repeat="item in endorsements">{{ '{{item}}' }}</option>
                        </select></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div slim-scroll height="350px">
                        <ul class="list-group" dnd-list="lists[0].students">
                            <button class="list-group-item btn" ng-repeat="student in lists[0].students" ng-class="{active : currentStudent === student}" 
                            ng-model="$parent.student" data-template-url="popover.student.tpl.html" container="body" placement="left" auto-close="true" 
                            data-html="true" ng-click="setCurrentStudent(student)" bs-popover 
                            dnd-draggable="student" dnd-effect-allowed="move">
                                <span ng-bind="student.firstName"></span>&nbsp;
                                <span ng-bind="student.lastName"></span>
                            </button>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <h4 class="text-center">Teachers</h4>
            <br/>
            <div class="row">
                <div class="col-md-6">
                    <span>Filter By</span><br/><br/>
                    <div class="form-group">
                        <span>School Division:
                        <select class="form-control" id="division" name="division" ng-model="schoolDivision">
                            <option>N/A</option>
                            <option ng-repeat="item in schoolDivisions">{{ '{{item.division}}' }}</option>
                        </select></span>
                    </div>
                    <div class="form-group">
                        <span>School:
                        <select class="form-control" id="school" name="school" ng-model="school">
                            <option>N/A</option>
                            <option ng-repeat="school in getSchools(schoolDivision)">{{ '{{school}}' }}</option>
                        </select></span>
                    </div>
                    <div class="form-group">
                        <span>Grade</span>
                        <select class="form-control" id="grade" name="grade" ng-model="grade" ng-options="g as g.displayName for g in grades">
                            <option>N/A</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <span>Subject</span>
                        <select class="form-control" id="course" name="course" ng-model="course">
                            <option>N/A</option>
                            <option ng-repeat="c in courses">{{ '{{c}}' }}</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-6">
                    <div slim-scroll height="350px">
                        <ul class="list-group" dnd-list="lists[0].teachers">
                            <button class="list-group-item btn" ng-repeat="teacher in lists[0].teachers" ng-class="{active : currentTeacher === teacher}" 
                            ng-model="$parent.teacher" data-template-url="popover.student.tpl.html" container="body" auto-close="true" 
                            data-html="true" ng-click="setCurrentTeacher(teacher)" bs-popover 
                            dnd-draggable="teacher" dnd-effect-allowed="move">
                                <span ng-bind="teacher.firstName"></span>&nbsp;
                                <span ng-bind="teacher.lastName"></span>
                            </button>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br /><br /><br /><hr/>
    <div class="row">
        <h4 class="text-center">Assignments</h4>
        <hr/>
        <div class="col-md-2">
            <ul class="nav nav-pills nav-stacked">
              <li ng-class="{active : practicumMode}"><a href="" ng-click="togglePracticumMode()">Practicum</a></li>
              <li ng-class="{active : transportationMode}"><a href="" ng-click="toggleTransportationMode()">Transportation</a></li>
            </ul>
        </div>
        <div class="col-md-9">
             <div class="panel well">
                  <div class="row" ng-if="practicumMode">
                      <table>
                          <th></th>
                      </table>
                      <div class="col-md-3 right-border">
                        <h5>Student</h5>
                      </div>
                      <div class="col-md-3 right-border">
                        <h5>Teacher</h5>
                      </div>
                      <div class="col-md-6">
                        <h5>Day/Time</h5>
                      </div>
                  </div>
                  <div class="row" ng-if="transportationMode">
                      <div class="col-md-4 right-border">
                        <h5>Driver</h5>
                      </div>
                      <div class="col-md-8">
                        <h5>Riders</h5>
                      </div>
                  </div>
                  <hr/>
                  <div class="row" ng-if="practicumMode">
                      <div class="col-md-3">
                      </div>
                      <div class="col-md-3">
                      </div>
                      <div class="col-md-6">
                      </div>
                  </div>
                  <div class="row" ng-if="transportationMode">
                      <div class="col-md-4">
                      </div>
                      <div class="col-md-8">
                      </div>
                  </div>
              </div>

              </div>
            </div>
        </div>

    </div><br />

{% endblock %}
